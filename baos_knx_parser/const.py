from .bitmask import Bitmask, BitmaskEnum


class APCI(BitmaskEnum):
    MULTICAST_REQUEST_VALUE               = 0b0000000000
    MULTICAST_RESPONSE_VALUE              = Bitmask(0b0001000000, 0b1111000000)  # last 6 bit not set
    MULTICAST_SEND_VALUE                  = Bitmask(0b0010000000, 0b1111000000)  # last 6 bit not set

    BROADCAST_SET_PHY_ADDR                = 0b0011000000
    BROADCAST_REQUEST_PHY_ADDR            = 0b0100000000
    BROADCAST_RESPONSE_PHY_ADDR           = 0b0101000000
    BROADCAST_REQUEST_PHY_ADDR_SERIAL     = 0b1111011100
    BROADCAST_RESPONSE_PHY_ADDR_SERIAL    = 0b1111011101
    BROADCAST_SET_PHY_ADDR_SERIAL         = 0b1111011110

    BROADCAST_REQUEST_APP_STATUS          = 0b1111011111
    BROADCAST_SET_SYSTEM_ID               = 0b1111100000
    BROADCAST_REQUEST_SYSTEM_ID           = 0b1111100001
    BROADCAST_RESPONSE_SYSTEM_ID          = 0b1111100010

    UNICAST_REQUEST_PROPERTY_VALUE        = 0b1111010101
    UNICAST_RESPONSE_PROPERTY_VALUE       = 0b1111010110
    UNICAST_SEND_PROPERTY_VALUE           = 0b1111010111

    UNICAST_REQUEST_PROPERTY_DESCRIPTION  = 0b1111011000
    UNICAST_RESPONSE_PROPERTY_DESCRIPTION = 0b1111011001

    UNICAST_REQUEST_AC_STORAGE            = 0b1011000000
    UNICAST_RESPONSE_AC_STORAGE           = 0b1011000001
    UNICAST_SEND_AC_STORAGE_LONG          = 0b1011000010
    UNICAST_SEND_AC_STORAGE_SHORT         = 0b1011000011

    UNICAST_REQUEST_MANUFACTURER_INFO     = 0b1011000101
    UNICAST_RESPONSE_MANUFACTURER_INFO    = 0b1011000110

    UNICAST_REQUEST_ADC_VALUE             = Bitmask(0b0110000000, 0b1111000000)  # last 6 bit not set
    UNICAST_RESPONSE_ADC_VALUE            = Bitmask(0b0111000000, 0b1111000000)  # last 6 bit not set

    UNICAST_REQUEST_CC_STORAGE            = Bitmask(0b1000000000, 0b1111110000)  # last 4 bit not set
    UNICAST_RESPONSE_CC_STORAGE           = Bitmask(0b1001000000, 0b1111110000)  # last 4 bit not set
    UNICAST_SEND_CC_STORAGE               = Bitmask(0b1010000000, 0b1111110000)  # last 4 bit not set
    UNICAST_SEND_CC_STORAGE_LONG          = 0b1111010000

    UNICAST_REQUEST_MASK_VERSION          = 0b1100000000
    UNICAST_RESPONSE_MASK_VERSION         = 0b1101000000

    UNICAST_CC_RESTART                    = 0b1110000000

    UNICAST_REQUEST_ACCESS_RIGHT          = 0b1111010001
    UNICAST_RESPONSE_ACCESS_RIGHT         = 0b1111010010
    UNICAST_SET_ACCESS_RIGHT_KEY          = 0b1111010011
    UNICAST_RESPONSE_SET_ACCESS_RIGHT_KEY = 0b1111010100


class TPCI(BitmaskEnum):
    UNNUMBERED_DATA_PACKET       = 0b00
    UNNUMBERED_CONTROL_PACKET    = 0b10
    NUMBERED_DATA_PACKET         = 0b01
    NUMBERED_CONTROL_PACKET      = 0b11


class TelegramType(BitmaskEnum):
    POLL  = 0b11
    ACK   = 0b01
    DATA  = 0b10
    EXT   = 0b00


class TelegramPriority(BitmaskEnum):
    SYSTEM  = 0b00
    URGENT  = 0b10
    NORMAL  = 0b01
    LOW     = 0b11
